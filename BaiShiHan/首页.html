<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ç©¿è¶Šæ¸£çˆ¹ Â· å¼€åœºä»‹ç»</title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Varela+Round&family=Nunito+Sans:wght@300;400;600;700&family=ZCOOL+XiaoWei&family=Space+Mono:wght@400;700&display=swap');

      :root {
        color-scheme: light;
        --bg: #f7f1e8;
        --bg-soft: #f3ede5;
        --surface: #fff9f1;
        --surface-strong: #fff4e7;
        --border: rgba(140, 120, 100, 0.16);
        --text: #4b3c2d;
        --text-muted: #7b6c5f;
        --primary: #cfa5b8;
        --primary-strong: #b28598;
        --mint: #a8c7b4;
        --accent: #e4b86a;
        --accent-soft: rgba(228, 184, 106, 0.18);
        --shadow: 0 24px 60px rgba(112, 85, 60, 0.18);
        --radius-xl: 28px;
        --radius-l: 20px;
        --radius-m: 14px;
        --radius-s: 10px;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Nunito Sans', 'Varela Round', 'PingFang SC', 'Hiragino Sans GB', sans-serif;
        background: transparent;
        color: var(--text);
        line-height: 1.6;
        padding: 16px;
        font-size: 14px;
      }

      .intro-shell {
        max-width: 860px;
        margin: 0 auto;
        background: linear-gradient(140deg, var(--bg), var(--bg-soft));
        border-radius: var(--radius-xl);
        border: 1px solid var(--border);
        box-shadow: var(--shadow);
        overflow: hidden;
        position: relative;
      }

      .intro-shell::before {
        content: '';
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at 10% 10%, rgba(255, 255, 255, 0.6), transparent 55%);
        pointer-events: none;
      }

      .intro-header {
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 12px;
        align-items: center;
        padding: 20px 24px;
        background: var(--surface);
        border-bottom: 1px solid var(--border);
        position: relative;
        z-index: 1;
      }

      .brand {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
      }

      .brand-kicker {
        font-size: 12px;
        letter-spacing: 0.24em;
        text-transform: uppercase;
        color: var(--text-muted);
      }

      .brand-title {
        font-size: 22px;
        font-weight: 700;
        font-family: 'ZCOOL XiaoWei', 'Noto Serif SC', serif;
        color: var(--text);
      }

      .brand-sub {
        font-size: 13px;
        color: var(--text-muted);
      }

      .author-tag {
        font-size: 12px;
        padding: 4px 10px;
        background: var(--accent-soft);
        border-radius: 999px;
        color: var(--text-muted);
        border: 1px dashed var(--border);
        display: inline-block;
      }

      .status-chip {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 14px;
        border-radius: 999px;
        background: var(--accent-soft);
        border: 1px solid rgba(0, 0, 0, 0.05);
        font-size: 12px;
        color: var(--text);
        font-family: 'Space Mono', 'Nunito Sans', monospace;
      }

      .intro-body {
        padding: 20px 24px 28px;
        display: grid;
        gap: 16px;
        position: relative;
        z-index: 1;
      }

      .card {
        background: var(--surface-strong);
        border: 1px solid var(--border);
        border-radius: var(--radius-l);
        box-shadow: 0 12px 26px rgba(112, 85, 60, 0.12);
        overflow: hidden;
      }

      .card-header {
        padding: 10px 16px;
        font-size: 0.88rem;
        font-weight: 700;
        letter-spacing: 0.1em;
        color: var(--text);
        background: rgba(207, 165, 184, 0.18);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .card-header.warn {
        background: linear-gradient(90deg, rgba(180, 100, 100, 0.18), transparent);
        color: #8b4513;
      }

      .card-body {
        padding: 14px 16px 16px;
      }

      .notice-box {
        padding: 10px 12px;
        background: rgba(255, 255, 255, 0.6);
        border-left: 3px solid var(--text-muted);
        font-size: 0.84rem;
        line-height: 1.7;
        color: var(--text-muted);
        border-radius: 0 var(--radius-s) var(--radius-s) 0;
      }

      .notice-box.warning {
        border-left-color: #8b4513;
        background: rgba(139, 69, 19, 0.08);
      }

      .notice-item {
        display: flex;
        align-items: flex-start;
        gap: 8px;
        margin-bottom: 6px;
      }

      .notice-item:last-child {
        margin-bottom: 0;
      }

      .info-row {
        display: grid;
        grid-template-columns: 120px 1fr;
        gap: 12px;
        padding: 10px 12px;
        border-radius: var(--radius-s);
        background: rgba(255, 255, 255, 0.6);
        border: 1px solid var(--border);
        margin-bottom: 8px;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .info-row:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 18px rgba(112, 85, 60, 0.14);
      }

      .info-row:last-child {
        margin-bottom: 0;
      }

      .info-label {
        color: var(--text-muted);
        font-size: 12px;
      }

      .info-value {
        font-weight: 600;
        color: var(--text);
      }

      .character-image {
        width: 100%;
        border-radius: var(--radius-m);
        display: block;
        border: 1px solid var(--border);
        box-shadow: 0 10px 22px rgba(112, 85, 60, 0.14);
      }

      .image-caption {
        margin-top: 10px;
        font-size: 12px;
        color: var(--text-muted);
        text-align: center;
      }

      .opening-card {
        background: #fffdf9;
        border-radius: var(--radius-m);
        border: 1px solid var(--border);
        padding: 14px;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
      }

      .opening-card:hover {
        transform: translateY(-2px);
        border-color: rgba(207, 165, 184, 0.6);
        box-shadow: 0 16px 30px rgba(112, 85, 60, 0.16);
      }

      .opening-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        background: rgba(207, 165, 184, 0.2);
        color: var(--primary-strong);
        font-weight: 600;
      }

      .opening-title {
        margin-top: 8px;
        font-size: 16px;
        font-weight: 700;
        font-family: 'ZCOOL XiaoWei', 'Noto Serif SC', serif;
        color: var(--text);
      }

      .opening-desc {
        margin-top: 6px;
        font-size: 13px;
        color: var(--text-muted);
      }

      .opening-stats {
        margin-top: 10px;
        display: grid;
        gap: 6px;
        font-size: 12px;
        color: var(--text);
      }

      .opening-stats .stat-value {
        font-family: 'Space Mono', 'Nunito Sans', monospace;
        color: var(--primary-strong);
        font-weight: 700;
      }

      .community-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 12px;
      }

      .community-card {
        border-radius: var(--radius-m);
        border: 1px solid var(--border);
        padding: 14px 12px;
        background: rgba(255, 255, 255, 0.7);
        text-align: center;
        cursor: pointer;
        transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
      }

      .community-card:hover {
        transform: translateY(-2px);
        border-color: rgba(168, 199, 180, 0.8);
        box-shadow: 0 14px 26px rgba(112, 85, 60, 0.14);
      }

      .community-icon {
        font-size: 24px;
      }

      .community-title {
        margin-top: 6px;
        font-size: 14px;
        font-weight: 700;
      }

      .community-info {
        margin-top: 4px;
        font-size: 12px;
        color: var(--text-muted);
        line-height: 1.5;
      }

      .notice-tip {
        margin-top: 10px;
        padding: 8px 10px;
        border-radius: var(--radius-s);
        background: rgba(228, 184, 106, 0.12);
        border: 1px dashed rgba(228, 184, 106, 0.5);
        font-size: 12px;
        color: var(--text-muted);
        display: flex;
        gap: 6px;
        align-items: center;
      }

      .footer-note {
        text-align: center;
        font-size: 12px;
        color: var(--text-muted);
        padding: 10px 0 6px;
        letter-spacing: 0.12em;
      }

      @media (max-width: 640px) {
        .intro-header {
          grid-template-columns: 1fr;
          gap: 10px;
        }

        .brand {
          gap: 4px;
        }

        .author-tag {
          margin-top: 2px;
        }

        .status-chip {
          justify-self: start;
          padding: 6px 12px;
          font-size: 11px;
        }

        .info-row {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="intro-shell">
      <header class="intro-header">
        <div class="brand">
          <div class="brand-kicker">Opening / Introduction</div>
          <div class="brand-title">ç©¿è¶Šæ¸£çˆ¹</div>
          <span class="author-tag">ä½œè€…ï¼šemoçš„lsp</span>
        </div>
        <div class="status-chip">LIGHT Â· 2026</div>
      </header>

      <div class="intro-body">
        <section class="card">
          <div class="card-header warn">â–¸ ç‰ˆæƒå£°æ˜</div>
          <div class="card-body">
            <div class="notice-box warning">
              <div class="notice-item">
                <span>ğŸ“Œ</span>
                <span>è¿™å¼ è§’è‰²å¡æ˜¯å…è´¹çš„ï¼Œæ°¸è¿œç¦æ­¢å•†ä¸šåŒ–è¡Œä¸ºã€‚å¦‚æœä½ æ˜¯è´­ä¹°è·å¾—ï¼Œè¯·ç«‹å³é€€æ¬¾å¹¶å‘è´­ä¹°å¹³å°ä¸¾æŠ¥æ­»å¦ˆè´©å–è€…ï¼Œç»´æŠ¤åˆ›ä½œè€…å’Œæ‚¨è‡ªèº«çš„æƒç›Šã€‚</span>
              </div>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header warn">â–¸ è½¬è½½å£°æ˜</div>
          <div class="card-body">
            <div class="notice-box warning">
              <div class="notice-item">
                <span>âš </span>
                <span>æœªç»ä½œè€…æ˜ç¡®æˆæƒï¼Œä¸¥ç¦å°†æœ¬ä½œå“è½¬è½½è‡³å…¶ä»–ä»»ä½•å¹³å°ã€‚</span>
              </div>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header">â–¸ è§’è‰²ç®€ä»‹</div>
          <div class="card-body">
            <div class="info-row">
              <span class="info-label">è§’è‰²åç§°</span>
              <span class="info-value">{{user}}</span>
            </div>
            <div class="info-row">
              <span class="info-label">èº«ä»½å®šä½</span>
              <span class="info-value">ç©¿è¶Šè€Œæ¥çš„â€œçˆ¶äº²â€èº«ä»½</span>
            </div>
            <div class="info-row">
              <span class="info-label">å‰§æƒ…å…³é”®è¯</span>
              <span class="info-value">å‘½è¿æ”¹å†™ Â· å®¶æ—å…³ç³» Â· é€†é£ç¿»ç›˜</span>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header">â–¸ ç™½è¯—æ¶µ</div>
          <div class="card-body">
            <img
              class="character-image"
              src="https://gitgud.io/opus5/other/-/raw/master/CG/%E7%99%BD%E8%AF%97%E6%B6%B52.png"
              alt="è§’è‰²ä¸»è§†è§‰"
            />
          </div>
        </section>

        <section class="card">
          <div class="card-header">â–¸ åŠ å…¥ç¤¾ç¾¤</div>
          <div class="card-body">
            <div class="community-grid">
              <div class="community-card" onclick="copyQQGroup()">
                <div class="community-icon">ğŸ§</div>
                <div class="community-title">ä¼é¹…ç¾¤</div>
                <div class="community-info">ç‚¹å‡»å¤åˆ¶ç¾¤å·<br />å‘å¡ä¼šæœ‰æé†’å“¦~</div>
              </div>
              <div class="community-card" onclick="openDiscordWithConfirm()">
                <div class="community-icon">ğŸ’¬</div>
                <div class="community-title">Discord æœåŠ¡å™¨</div>
                <div class="community-info">ç‚¹å‡»æ‰“å¼€é“¾æ¥</div>
              </div>
            </div>
            <div class="notice-tip">
              <span>âš ï¸</span>
              <span>ç§’é€€ç¾¤å‹¿å…¥ï¼Œç¾¤é‡Œæ²¡æœ‰è§’è‰²å¡ã€‚</span>
            </div>
          </div>
        </section>

        <section class="card">
          <div class="card-header">â–¸ ç‚¹å‡» | å¼€å¯æ•…äº‹</div>
          <div class="card-body">
            <div class="opening-card" onclick="switchToOpening(1)">
              <div class="opening-badge">å¼€å±€ä¸€</div>
              <div class="opening-title">é€†è½¬å¼€ç«¯</div>
              <div class="opening-desc">
                ä½ ä»æ··ä¹±çš„è®°å¿†ä¸­é†’æ¥ï¼Œæ„è¯†åˆ°è‡ªå·±ç©¿è¶Šæˆäº†â€œæ¸£çˆ¹â€ã€‚æ˜¯é¡ºåŠ¿æ²‰æ²¦ï¼Œè¿˜æ˜¯æ”¹å†™å‘½è¿ï¼Œä¸€åˆ‡ä»è¿™ä¸€åˆ»å¼€å§‹ã€‚
              </div>
            </div>
          </div>
        </section>

        <div class="footer-note">ç©¿è¶Šæ¸£çˆ¹ Â· å¼€åœºå¼•å¯¼</div>
      </div>
    </div>

    <script>
      function copyQQGroup() {
        const groupNumber = '151611202';
        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard
            .writeText(groupNumber)
            .then(() => {
              if (typeof triggerSlash === 'function') {
                triggerSlash('/echo severity=success ä¼é¹…ç¾¤å·å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
              } else {
                alert('ä¼é¹…ç¾¤å·å·²å¤åˆ¶ï¼š' + groupNumber);
              }
            })
            .catch(() => {
              fallbackCopy(groupNumber);
            });
        } else {
          fallbackCopy(groupNumber);
        }
      }

      function fallbackCopy(text) {
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.left = '-999999px';
        document.body.appendChild(textArea);
        textArea.select();
        try {
          document.execCommand('copy');
          if (typeof triggerSlash === 'function') {
            triggerSlash('/echo severity=success ä¼é¹…ç¾¤å·å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
          } else {
            alert('ä¼é¹…ç¾¤å·å·²å¤åˆ¶ï¼š' + text);
          }
        } catch (err) {
          if (typeof triggerSlash === 'function') {
            triggerSlash('/echo severity=error å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ç¾¤å·ï¼š151611202');
          } else {
            alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ç¾¤å·ï¼š151611202');
          }
        }
        document.body.removeChild(textArea);
      }

      function openDiscordWithConfirm() {
        if (confirm('å³å°†è·³è½¬åˆ° Discord æœåŠ¡å™¨ï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ')) {
          window.open('https://discord.gg/x3aKHgfE3u', '_blank');
        }
      }

      async function switchToOpening(swipeId) {
        const clickedCard = event.currentTarget;
        if (clickedCard) {
          clickedCard.style.opacity = '0.6';
          clickedCard.style.pointerEvents = 'none';
        }

        try {
          const messages = await getChatMessages('0', { include_swipe: true });
          if (messages && messages[0].swipes && messages[0].swipes[swipeId]) {
            await setChatMessage(messages[0].swipes[swipeId], 0, {
              swipe_id: swipeId,
              refresh: 'display_and_render_current',
            });
          } else {
            throw new Error(`å¼€åœºç™½ ${swipeId} æœªæ‰¾åˆ°ï¼Œè¯·ç¡®ä¿å·²æ·»åŠ å¯¹åº”å¼€åœºç™½ã€‚`);
          }
        } catch (error) {
          const message = error instanceof Error ? error.message : 'å¼€åœºç™½åˆ‡æ¢å¤±è´¥ï¼Œè¯·æ£€æŸ¥é…ç½®ã€‚';
          if (typeof triggerSlash === 'function') {
            triggerSlash(`/echo severity=error ${message}`);
          } else {
            alert(message);
          }
        }
      }
    </script>
  </body>
</html>
